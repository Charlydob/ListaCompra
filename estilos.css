/* === Opal UI – ambient + glass === */
:root{
  --bg-1:#0e1116;
  --bg-2:#0b0d12;
  --glass: rgba(255,255,255,.06);
  --glass-2: rgba(255,255,255,.08);
  --stroke: rgba(255,255,255,.10);
  --txt:#e9f1ff;
  --muted:#b7c1d6;
  --opal-cyan:#5ee8ff;
  --opal-teal:#49d3c6;
  --opal-blue:#4590ff;
  --opal-amber:#ffb24d;
  --danger:#ff5865;
}

*{box-sizing:border-box}
html,body{max-width:100vw;overflow-x:hidden;touch-action:manipulation}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--txt);
  background:
    radial-gradient(1200px 800px at 20% 0%, #12303a88 0%, transparent 60%),
    radial-gradient(900px 700px at 85% 20%, #26225877 0%, transparent 60%),
    radial-gradient(900px 700px at 10% 90%, #1c3a2f66 0%, transparent 60%),
    linear-gradient(180deg, var(--bg-1), var(--bg-2));
  min-height:100vh;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* Ambient glow orbs (muy Opal) */
body::before, body::after{
  content:"";
  position:fixed; inset:auto;
  width:420px; height:420px; border-radius:50%;
  filter: blur(60px);
  z-index:-1; opacity:.35; pointer-events:none;
}
body::before{left:-120px; top:-80px;background:radial-gradient(circle,#3ee6ff,#2b9fff22 60%,transparent 70%); animation:float1 16s ease-in-out infinite}
body::after{right:-140px; bottom:-120px;background:radial-gradient(circle,#ffcf6a,#ff6a3e22 60%,transparent 70%); animation:float2 18s ease-in-out infinite}
@keyframes float1{0%,100%{transform:translateY(0)}50%{transform:translateY(18px)}}
@keyframes float2{0%,100%{transform:translateY(0)}50%{transform:translateY(-22px)}}

/* Vignette sutil */
#app::before{
  content:"";
  position:fixed; inset:0;
  background: radial-gradient(1200px 900px at 50% -200px, transparent 60%, rgba(0,0,0,.45) 100%);
  pointer-events:none; z-index:0;
}

#app{position:relative; z-index:1; max-width:480px; margin:auto; padding:14px}

/* ===== Header (glass card con halo) ===== */
header{
  display:flex; flex-direction:column; gap:10px; align-items:center;
  margin-bottom:4px; padding:14px;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid var(--stroke);
  border-radius:18px;
  box-shadow:
    0 20px 40px rgba(0,0,0,.35),
    0 0 0 1px rgba(255,255,255,.03) inset,
    0 0 35px 0 rgba(94,232,255,.08);
  backdrop-filter: blur(10px);
}

#total-estimado{
  font-weight:700; letter-spacing:.2px;
  background: linear-gradient(90deg, var(--opal-cyan), var(--opal-blue));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

/* Inputs Opal */
select, input[type="text"], input[type="number"]{
  width:100%;
  padding:12px 14px; font-size:16px; color:var(--txt);
  background:var(--glass);
  border:1px solid var(--stroke); border-radius:12px;
  outline:none; backdrop-filter: blur(6px);
  transition: box-shadow .15s, border-color .15s, transform .05s;
}
select:focus, input:focus{
  border-color:#6de3ff88;
  box-shadow:0 0 0 6px #5ee8ff16, 0 10px 24px #0006;
  transform: translateY(-1px);
}

#btn-agregar{
  width:100%;
  padding:12px 14px; font-size:16px; font-weight:600; cursor:pointer;
  color:#031017; border:none; border-radius:14px;
  background: linear-gradient(90deg, var(--opal-cyan), var(--opal-blue));
  box-shadow: 0 8px 24px rgba(69,144,255,.35), 0 0 0 1px #ffffff0f inset;
  transition: transform .06s ease, box-shadow .15s ease;
}
#btn-agregar:active{transform:translateY(1px); box-shadow:0 4px 16px rgba(69,144,255,.28)}

/* ===== Grupos y títulos ===== */
.supermercado-grupo{margin-top:20px}
.supermercado-titulo{
  font-weight:700; font-size:17px; padding:10px 14px; border-radius:12px;
  color:#f4fbff;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid var(--stroke);
  box-shadow: 0 10px 24px rgba(0,0,0,.35), 0 0 24px rgba(94,232,255,.08) inset;
  display:flex; align-items:center; gap:8px;
}
.supermercado-titulo::before{
  content:""; width:10px; height:10px; border-radius:50%;
  background: radial-gradient(circle, var(--opal-cyan), #3adbff00 70%);
  box-shadow:0 0 12px var(--opal-cyan);
}

/* ===== Tarjetas ===== */
.contenedor-tarjetas{margin-top:12px; display:flex; flex-direction:column; gap:10px}

.tarjeta-producto{
  display:flex; align-items:center; gap:12px; position:relative;
  padding:12px; border-radius:16px;
  background: linear-gradient(140deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid var(--stroke);
  box-shadow:
    0 14px 28px rgba(0,0,0,.35),
    0 0 0 1px rgba(255,255,255,.02) inset;
  backdrop-filter: blur(8px);
  transition: transform .08s ease, opacity .2s ease, box-shadow .15s ease;
}
.tarjeta-producto:hover{transform:translateY(-1px); box-shadow:0 18px 34px rgba(0,0,0,.38), 0 0 34px #5ee8ff10 inset}

.tarjeta-comprado{opacity:.45; filter:saturate(.7)}
.tarjeta-producto img{
  width:54px; height:54px; object-fit:cover; border-radius:12px;
  box-shadow: 0 8px 18px rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.08);
}
.checkbox{
  position:absolute; top:10px; left:10px; transform:scale(1.3);
  accent-color: var(--opal-cyan);
  filter: drop-shadow(0 0 8px #5ee8ff55);
}

.nombre-producto{flex:1; font-size:16px}

/* Cantidad (+/– + chip) */
.contador{
  font-size:16px; min-width:36px; text-align:center;
  padding:6px 10px; border-radius:12px; user-select:none;
  background:var(--glass-2); color:var(--txt);
  border:1px solid var(--stroke); backdrop-filter: blur(4px);
}
.controles-cantidad{display:flex; align-items:center; gap:8px}
.btn-qty{
  min-width:36px; padding:6px 10px; border-radius:12px; border:1px solid var(--stroke);
  background:var(--glass); color:var(--txt); cursor:pointer;
  transition: transform .06s, box-shadow .15s, background .15s;
  backdrop-filter: blur(4px);
}
.btn-qty:active{transform:translateY(1px)}
.btn-qty:hover{box-shadow:0 0 0 6px #5ee8ff14}

/* ===== Modal ===== */
.modal{
  position:fixed; inset:0; display:flex; justify-content:center; align-items:center;
  background: radial-gradient(1200px 800px at 50% 0%, #0a172080 0%, #000a 70%);
  z-index:999; padding:20px; backdrop-filter: blur(6px);
}
.modal-contenido-opal-horizontal{
  width:100%; max-width:470px; max-height:calc(100vh - 40px); overflow:auto;
  display:flex; flex-direction:column;
  background: linear-gradient(160deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid var(--stroke); border-radius:22px;
  box-shadow: 0 24px 60px rgba(0,0,0,.6), 0 0 60px #5ee8ff14 inset;
}
.imagen-lateral{
  width:100%; display:flex; justify-content:center; padding:10px 10px 6px;
  background: radial-gradient(380px 200px at 50% 0%, #1b2a2f 0%, transparent 70%);
  border-bottom:1px solid var(--stroke);
}
.imagen-lateral img{
  max-width:96%; max-height:240px; border-radius:14px; object-fit:cover;
  border:1px solid rgba(255,255,255,.08); box-shadow:0 14px 28px rgba(0,0,0,.45);
}

.campos-laterales{
  display:grid; grid-template-columns:1fr 2fr; gap:12px 14px; padding:18px 20px 10px;
  align-items:center;
}
.campos-laterales h2{
  grid-column:1/-1; margin:0 0 6px; text-align:center; font-size:19px;
}
.campos-laterales label{font-size:13px; color:var(--muted); text-align:right}
.campos-laterales input,.campos-laterales select{
  width:100%; padding:10px 12px; font-size:15px; color:var(--txt);
  border-radius:12px; border:1px solid var(--stroke); background:var(--glass);
  backdrop-filter: blur(6px);
}

.modal-botones{
  grid-column:1/-1; display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:16px;
}
.modal-botones button{
  padding:12px; border:none; border-radius:12px; font-weight:600; cursor:pointer;
  background:linear-gradient(90deg, var(--opal-cyan), var(--opal-blue)); color:#021219;
  box-shadow:0 10px 24px rgba(69,144,255,.30);
}
.modal-botones button:nth-child(2){
  background: linear-gradient(90deg, #ff8aa1, #ff5865); color:#1a0407;
  box-shadow:0 10px 24px rgba(255,88,101,.28);
}
.modal-botones button:nth-child(3){
  background: linear-gradient(90deg, #9da8b6, #6c7a8e); color:#0c1016;
  box-shadow:0 10px 24px rgba(30,40,54,.28);
}

.oculto{display:none}

/* ===== Accesibilidad / detalles ===== */
:focus-visible{outline:2px solid #6de3ff; outline-offset:2px; border-radius:12px}
::-webkit-scrollbar{width:10px} 
::-webkit-scrollbar-thumb{background:rgba(255,255,255,.12); border-radius:8px}
::-webkit-scrollbar-track{background:transparent}

/* ===== Pequeños helpers (si quieres usarlos en el HTML/JS) ===== */
.badge{
  padding:4px 8px; font-size:12px; border-radius:999px; color:#021219;
  background: linear-gradient(90deg, var(--opal-amber), #ffdca1);
  box-shadow:0 6px 18px rgba(255,188,87,.25);
}
.state-productivo{color:#a7ffea}
.state-distrayendo{color:#ff8aa1}

/* Opcional: si en JS añades contenedor de cantidad con clase */
.controles-cantidad .btn-qty{background:var(--glass)}
